{
    "passes": [
        {
            "name": "init",
            "plugin": "vaip-pass_init"
        },
        {
            "name": "fuse_resize_norm",
            "plugin": "vaip-pass_py_ext",
            "disabled": false,
            "pyExt": {
                "moduleName": "voe.passes.fuse_resize_norm",
                "methodName": "rules"
            }
        },
        {
            "name": "fuse_softmax",
            "plugin": "vaip-pass_py_ext",
            "disabled": false,
            "pyExt": {
                "moduleName": "voe.passes.fuse_softmax",
                "methodName": "rules"
            }
        },
        {
            "name": "fuse_topk",
            "plugin": "vaip-pass_py_ext",
            "disabled": false,
            "pyExt": {
                "moduleName": "voe.passes.fuse_topk",
                "methodName": "rules"
            }
        },
        {
            "name": "fuse_decode_filter_boxes",
            "plugin": "vaip-pass_py_ext",
            "disabled": false,
            "pyExt": {
                "moduleName": "voe.passes.fuse_decode_filter_boxes",
                "methodName": "rules"
            }
        },
        {
            "name": "vaip_pass_norm_k",
            "plugin": "vaip-pass_norm_k",
            "enable_gc": true,
            "disabled": false
        },
        {
            "name": "fuse_NMS",
            "plugin": "vaip-pass_py_ext",
            "disabled": true,
            "pyExt": {
                "moduleName": "voe.passes.fuse_NMS",
                "methodName": "rules"
            }
        },
        {
            "name": "fuse_dynamic_dispatch",
            "plugin": "vaip-pass_level1_dd",
            "passDpuParam": {
                "subPass": [
                    {
                        "name": "dd_compiler_pass_transformation",
                        "plugin": "vaip-pass_py_ext",
                        "pyExt": {
                            "moduleName": "voe.passes.dynamic_dispatch",
                            "methodName": "rules"
                        }
                    },
                    {
                        "name": "dd_compiler_pass_generation",
                        "plugin": "vaip-pass_py_ext",
                        "pyExt": {
                            "moduleName": "voe.passes.dynamic_dispatch_gen",
                            "methodName": "rules"
                        }
                    },
                    {
                        "name": "dd_compiler_pass_transformation_2",
                        "plugin": "vaip-pass_py_ext",
                        "pyExt": {
                            "moduleName": "voe.passes.dynamic_dispatch_2",
                            "methodName": "rules"
                        }
                    },
                    {
                        "name": "dd_compiler_pass_generation_2",
                        "plugin": "vaip-pass_py_ext",
                        "pyExt": {
                            "moduleName": "voe.passes.dynamic_dispatch_gen_2",
                            "methodName": "rules"
                        }
                    }
                ]
            }
        },
        {
            "name": "fuse_DPU",
            "plugin": "vaip-pass_level1_dpu",
            "passDpuParam": {
                "subPass": [
                    {
                        "name": "convert_ending_blacklist_ops_to_unknown_op",
                        "plugin": "vaip-pass_convert_ending_blacklist_ops_to_unknown_op",
                        "disabled": false
                    },
                    {
                        "name": "npu_checker",
                        "plugin": "vaip-pass_npu_checker"
                    },
                    {
                        "name": "dynamic_input_batch",
                        "plugin": "vaip-pass_dynamic_input_batch"
                    },
                    {
                        "name": "create_const_op",
                        "plugin": "vaip-pass_create_const_op"
                    },
                    {
                        "name": "convert_split_to_xir",
                        "plugin": "vaip-pass_convert_split_to_xir_op"
                    },
                    {
                        "name": "to_xir",
                        "plugin": "vaip-pass_to_xir_ops"
                    },
                    {
                        "name": "convert_pad",
                        "plugin": "vaip-pass_convert_pad",
                        "enableGc": true
                    },
                    {
                        "name": "convert_in_to_gn",
                        "plugin": "vaip-pass_convert_instancenorm_to_groupnorm",
                        "enableGc": true
                    },
                    {
                        "name": "remove_extra_q_dq",
                        "plugin": "vaip-pass_remove_extra_q_dq"
                    },
                    {
                        "name": "merge_add_into_conv_bias",
                        "plugin": "vaip-pass_merge_add_into_conv_bias"
                    },
                    {
                        "name": "merge_fix",
                        "plugin": "vaip-pass_merge_fix",
                        "enableGc": true
                    },
                    {
                        "name": "layoutransform",
                        "plugin": "vaip-pass_layout_transform_via_adding_transpose"
                    },
                    {
                        "name": "gc_after_layout_transform",
                        "plugin": "vaip-pass_remove_isolated_node"
                    },
                    {
                        "name": "fuse_transpose",
                        "plugin": "vaip-pass_fuse_transpose",
                        "enableGc": true
                    },
                    {
                        "name": "gc_after_fuse_transpose",
                        "plugin": "vaip-pass_remove_isolated_node"
                    },
                    {
                        "name": "remove_identity",
                        "plugin": "vaip-pass_remove_identity",
                        "logVerbosity": 1
                    },
                    {
                        "name": "add_fix_after_const",
                        "plugin": "vaip-pass_const_add_fix"
                    },
                    {
                        "name": "remove_reshape_fix",
                        "plugin": "vaip-pass_py_ext",
                        "disabled": true,
                        "pyExt": {
                            "moduleName": "voe.passes.remove_reshape_fix",
                            "methodName": "rules"
                        }
                    },
                    {
                        "name": "const_fold_batchnorm_to_scale",
                        "plugin": "vaip-pass_const_fold_batchnorm_to_scale"
                    },
                    {
                        "name": "const_fold_transpose",
                        "plugin": "vaip-pass_const_fold_transpose"
                    },
                    {
                        "name": "merge_pad",
                        "plugin": "vaip-pass_merge_pad"
                    },
                    {
                        "name": "merge_hard_sigmoid",
                        "plugin": "vaip-pass_merge_hard_sigmoid"
                    },
                    {
                        "name": "merge_mul",
                        "plugin": "vaip-pass_merge_mul",
                        "enableGc": true
                    },
                    {
                        "name": "merge_consecutive_fix",
                        "plugin": "vaip-pass_merge_consecutive_fix",
                        "disabled": true,
                        "enableLog": true,
                        "logVerbosity": 1
                    },
                    {
                        "_comment": "test case 110",
                        "name": "convert_softmax_to_hard_softmax",
                        "plugin": "vaip-pass_convert_softmax_to_hard_softmax",
                        "disabled": true
                    },
                    {
                        "name": "merge_fix_fix_transpose",
                        "plugin": "vaip-pass_merge_fix_fix_transpose",
                        "enableGc": true,
                        "disabled": true
                    },
                    {
                        "name": "final_gc",
                        "plugin": "vaip-pass_remove_isolated_node"
                    }
                ],
                "xcompilerAttrs": {
                    "debug_mode": {
                        "stringValue": "performance"
                    },
                    "dpu_subgraph_num": {
                        "uintValue": 32
                    },
                    "opt_level": {
                        "uintValue": 0
                    },
                    "dump_subgraph_ops": {
                        "boolValue": false
                    },
                    "profile": {
                        "uintValue": 0
                    },
                    "disable_std_quant": {
                        "boolValue": false
                    },
                    "enable_fast_pm": {
                        "boolValue": true
                    }
                },
                "minimum_num_of_conv": 2
            }
        },
        {
            "name": "fuse_DPU_MHA",
            "plugin": "vaip-pass_level1_dpu",
            "passDpuParam": {
                "subPass": [
                    {
                        "name": "convert_MHA",
                        "plugin": "vaip-pass_convert_MHA",
                        "enableGc": true
                    },
                    {
                        "name": "convert_ending_blacklist_ops_to_unknown_op",
                        "plugin": "vaip-pass_convert_ending_blacklist_ops_to_unknown_op",
                        "disabled": false
                    },
                    {
                        "name": "dynamic_input_batch",
                        "plugin": "vaip-pass_dynamic_input_batch"
                    },
                    {
                        "name": "create_const_op",
                        "plugin": "vaip-pass_create_const_op"
                    },
                    {
                        "name": "convert_split_to_xir",
                        "plugin": "vaip-pass_convert_split_to_xir_op"
                    },
                    {
                        "name": "to_xir",
                        "plugin": "vaip-pass_to_xir_ops"
                    },
                    {
                        "name": "convert_pad",
                        "plugin": "vaip-pass_convert_pad",
                        "enableGc": true
                    },
                    {
                        "name": "convert_in_to_gn",
                        "plugin": "vaip-pass_convert_instancenorm_to_groupnorm",
                        "enableGc": true
                    },
                    {
                        "name": "remove_extra_q_dq",
                        "plugin": "vaip-pass_remove_extra_q_dq"
                    },
                    {
                        "name": "merge_add_into_conv_bias",
                        "plugin": "vaip-pass_merge_add_into_conv_bias"
                    },
                    {
                        "name": "merge_fix",
                        "plugin": "vaip-pass_merge_fix",
                        "enableGc": true
                    },
                    {
                        "name": "layoutransform",
                        "plugin": "vaip-pass_layout_transform_via_adding_transpose"
                    },
                    {
                        "name": "gc_after_layout_transform",
                        "plugin": "vaip-pass_remove_isolated_node"
                    },
                    {
                        "name": "fuse_transpose",
                        "plugin": "vaip-pass_fuse_transpose",
                        "enableGc": true
                    },
                    {
                        "name": "gc_after_fuse_transpose",
                        "plugin": "vaip-pass_remove_isolated_node"
                    },
                    {
                        "name": "remove_identity",
                        "plugin": "vaip-pass_remove_identity",
                        "logVerbosity": 1
                    },
                    {
                        "name": "add_fix_after_const",
                        "plugin": "vaip-pass_const_add_fix"
                    },
                    {
                        "name": "const_fold_batchnorm_to_scale",
                        "plugin": "vaip-pass_const_fold_batchnorm_to_scale"
                    },
                    {
                        "name": "const_fold_transpose",
                        "plugin": "vaip-pass_const_fold_transpose"
                    },
                    {
                        "name": "merge_pad",
                        "plugin": "vaip-pass_merge_pad"
                    },
                    {
                        "name": "merge_hard_sigmoid",
                        "plugin": "vaip-pass_merge_hard_sigmoid"
                    },
                    {
                        "name": "merge_mul",
                        "plugin": "vaip-pass_merge_mul",
                        "enableGc": true
                    },
                    {
                        "name": "merge_consecutive_fix",
                        "plugin": "vaip-pass_merge_consecutive_fix",
                        "disabled": true,
                        "enableLog": true,
                        "logVerbosity": 1
                    },
                    {
                        "_comment": "test case 110",
                        "name": "convert_softmax_to_hard_softmax",
                        "plugin": "vaip-pass_convert_softmax_to_hard_softmax",
                        "disabled": true
                    },
                    {
                        "name": "merge_fix_fix_transpose",
                        "plugin": "vaip-pass_merge_fix_fix_transpose",
                        "enableGc": true,
                        "disabled": true
                    },
                    {
                        "name": "final_gc",
                        "plugin": "vaip-pass_remove_isolated_node"
                    }
                ],
                "xcompilerAttrs": {
                    "debug_mode": {
                        "stringValue": "performance"
                    },
                    "dpu_subgraph_num": {
                        "uintValue": 1000
                    },
                    "opt_level": {
                        "uintValue": 65536
                    },
                    "dump_subgraph_ops": {
                        "boolValue": false
                    },
                    "profile": {
                        "uintValue": 0
                    },
                    "disable_std_quant": {
                        "boolValue": false
                    },
                    "enable_fast_pm": {
                        "boolValue": true
                    }
                },
                "minimum_num_of_conv": 2,
                "xclbin": "AMD_AIE2P_4x4_Overlay_CFG2.xclbin"
            }
        },
        {
            "name": "vaiml",
            "plugin": "vaip-pass_vaiml",
            "pass_vaiml_param": {
                "subPass": [
                    {
                        "name": "fuse_DPU",
                        "plugin": "vaip-pass_level1_dpu",
                        "passDpuParam": {
                            "subPass": [
                                {
                                    "name": "convert_ending_blacklist_ops_to_unknown_op",
                                    "plugin": "vaip-pass_convert_ending_blacklist_ops_to_unknown_op",
                                    "disabled": false
                                },
                                {
                                    "name": "dynamic_input_batch",
                                    "plugin": "vaip-pass_dynamic_input_batch"
                                },
                                {
                                    "name": "create_const_op",
                                    "plugin": "vaip-pass_create_const_op"
                                },
                                {
                                    "name": "convert_split_to_xir",
                                    "plugin": "vaip-pass_convert_split_to_xir_op"
                                },
                                {
                                    "name": "to_xir",
                                    "plugin": "vaip-pass_to_xir_ops"
                                },
                                {
                                    "name": "convert_pad",
                                    "plugin": "vaip-pass_convert_pad",
                                    "enableGc": true
                                },
                                {
                                    "name": "convert_in_to_gn",
                                    "plugin": "vaip-pass_convert_instancenorm_to_groupnorm",
                                    "enableGc": true
                                },
                                {
                                    "name": "remove_extra_q_dq",
                                    "plugin": "vaip-pass_remove_extra_q_dq"
                                },
                                {
                                    "name": "merge_add_into_conv_bias",
                                    "plugin": "vaip-pass_merge_add_into_conv_bias"
                                },
                                {
                                    "name": "merge_fix",
                                    "plugin": "vaip-pass_merge_fix",
                                    "enableGc": true
                                },
                                {
                                    "name": "layoutransform",
                                    "plugin": "vaip-pass_layout_transform_via_adding_transpose"
                                },
                                {
                                    "name": "gc_after_layout_transform",
                                    "plugin": "vaip-pass_remove_isolated_node"
                                },
                                {
                                    "name": "fuse_transpose",
                                    "plugin": "vaip-pass_fuse_transpose",
                                    "enableGc": true
                                },
                                {
                                    "name": "gc_after_fuse_transpose",
                                    "plugin": "vaip-pass_remove_isolated_node"
                                },
                                {
                                    "name": "remove_identity",
                                    "plugin": "vaip-pass_remove_identity",
                                    "logVerbosity": 1
                                },
                                {
                                    "name": "add_fix_after_const",
                                    "plugin": "vaip-pass_const_add_fix"
                                },
                                {
                                    "name": "remove_reshape_fix",
                                    "plugin": "vaip-pass_py_ext",
                                    "disabled": true,
                                    "pyExt": {
                                        "moduleName": "voe.passes.remove_reshape_fix",
                                        "methodName": "rules"
                                    }
                                },
                                {
                                    "name": "const_fold_batchnorm_to_scale",
                                    "plugin": "vaip-pass_const_fold_batchnorm_to_scale"
                                },
                                {
                                    "name": "const_fold_transpose",
                                    "plugin": "vaip-pass_const_fold_transpose"
                                },
                                {
                                    "name": "merge_pad",
                                    "plugin": "vaip-pass_merge_pad"
                                },
                                {
                                    "name": "merge_hard_sigmoid",
                                    "plugin": "vaip-pass_merge_hard_sigmoid"
                                },
                                {
                                    "name": "merge_mul",
                                    "plugin": "vaip-pass_merge_mul",
                                    "enableGc": true
                                },
                                {
                                    "name": "merge_consecutive_fix",
                                    "plugin": "vaip-pass_merge_consecutive_fix",
                                    "disabled": true,
                                    "enableLog": true,
                                    "logVerbosity": 1
                                },
                                {
                                    "_comment": "test case 110",
                                    "name": "convert_softmax_to_hard_softmax",
                                    "plugin": "vaip-pass_convert_softmax_to_hard_softmax",
                                    "disabled": true
                                },
                                {
                                    "name": "merge_fix_fix_transpose",
                                    "plugin": "vaip-pass_merge_fix_fix_transpose",
                                    "enableGc": true,
                                    "disabled": true
                                },
                                {
                                    "name": "final_gc",
                                    "plugin": "vaip-pass_remove_isolated_node"
                                }
                            ],
                            "xcompilerAttrs": {
                                "debug_mode": {
                                    "stringValue": "performance"
                                },
                                "dpu_subgraph_num": {
                                    "uintValue": 32
                                },
                                "opt_level": {
                                    "uintValue": 0
                                },
                                "dump_subgraph_ops": {
                                    "boolValue": false
                                },
                                "profile": {
                                    "uintValue": 0
                                },
                                "disable_std_quant": {
                                    "boolValue": false
                                },
                                "enable_fast_pm": {
                                    "boolValue": true
                                }
                            },
                            "minimum_num_of_conv": 2
                        }
                    }
                ]
            }
        },
        {
            "name": "vaiml_partition",
            "plugin": "vaip-pass_vaiml_partition",
            "vaiml_config": {
                "vaiml_model_path": "vaiml_par_0",
                "max_num_partitions": 200,
                "device_name": "phx",
                "debug": true
            }
        },
        {
            "name": "vaip_pass_dd_merge_dqcastgather",
            "plugin": "vaip-pass_dd_merge_dqcastgather",
            "enable_gc": true,
            "disabled": false
        },
        {
            "name": "vaip_pass_dd_merge_qop",
            "plugin": "vaip-pass_dd_merge_qop",
            "enable_gc": true,
            "disabled": false
        },
        {
            "name": "vaip_pass_dd_merge_dqop",
            "plugin": "vaip-pass_dd_merge_dqop",
            "enable_gc": true,
            "disabled": false
        },
        {
            "name": "vaip_pass_dd_merge_qop_onnx",
            "plugin": "vaip-pass_dd_merge_qop_onnx",
            "enable_gc": true,
            "disabled": false
        },
        {
            "name": "vaip_pass_dd_merge_dqop_onnx",
            "plugin": "vaip-pass_dd_merge_dqop_onnx",
            "enable_gc": true,
            "disabled": false
        }
    ],
    "target": "RyzenAI_vision_config_1",
    "targets": [
        {
            "name": "RyzenAI_vision_config_1",
            "pass": [
                "init",
                "vaiml"
            ]
        }
    ],
    "enable_cache_file_io_in_mem": true
}
